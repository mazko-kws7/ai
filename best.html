<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang xml:lang>
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>best</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
  </style>
</head>
<body>
<pre><code>   Open     High      Low    Close        Volume   SMA_50   RSI_14  MACD_Line  Signal_Line  MACD_Histogram  Upper_Trendline  Lower_Trendline</code></pre>
<p>85 2.20232 2.22529 2.06473 2.09763 3.283497e+09 NaN NaN NaN NaN NaN NaN NaN 86 2.09765 2.18885 2.08867 2.16241 2.160227e+09 NaN NaN NaN NaN NaN NaN NaN 87 2.16241 2.19105 2.15182 2.17855 1.225985e+09 NaN NaN NaN NaN NaN NaN NaN 88 2.17854 2.29183 2.16943 2.28913 2.494370e+09 NaN NaN NaN NaN NaN NaN NaN 89 2.28913 2.31245 2.27022 2.29773 2.422408e+09 NaN NaN NaN NaN NaN NaN NaN</p>
<pre><code>
```python
import pandas as pd
import numpy as np

def calculate_sma(data, period):
    &quot;&quot;&quot;Calculates Simple Moving Average.&quot;&quot;&quot;
    return pd.Series(data).rolling(window=period).mean().values

def calculate_rsi(data, period):
    &quot;&quot;&quot;Calculates Relative Strength Index.&quot;&quot;&quot;
    delta = np.diff(data)
    gain = delta * (delta &gt; 0)
    loss = -delta * (delta &lt; 0)

    avg_gain = pd.Series(gain).rolling(window=period, min_periods=period).mean().values
    avg_loss = pd.Series(loss).rolling(window=period, min_periods=period).mean().values

    rs = avg_gain / avg_loss
    rsi = 100 - (100 / (1 + rs))
    rsi = np.insert(rsi, 0, np.nan)  # Insert NaN at the beginning to match data length
    return rsi

def calculate_macd(data, fast_period, slow_period, signal_period):
    &quot;&quot;&quot;Calculates Moving Average Convergence Divergence.&quot;&quot;&quot;
    ema_fast = pd.Series(data).ewm(span=fast_period, adjust=False).mean().values
    ema_slow = pd.Series(data).ewm(span=slow_period, adjust=False).mean().values
    macd_line = ema_fast - ema_slow
    signal_line = pd.Series(macd_line).ewm(span=signal_period, adjust=False).mean().values
    macd_histogram = macd_line - signal_line
    return macd_line, signal_line, macd_histogram

daily_data = &quot;&quot;&quot;
2.3816,2.40641,2.30961,2.32344,3722945467
2.32343,2.34878,2.09098,2.13458,6156171771
2.13447,2.2517,2.00052,2.01829,8000109431
2.01819,2.2082,1.91659,2.16692,8214014406
2.16693,2.25883,2.14206,2.24076,6420912776
2.24075,2.33798,2.21876,2.25101,5570837343
2.251,2.38332,2.24008,2.35644,4318754070
2.35643,2.47176,2.35636,2.39324,3638758922
2.39328,2.40852,2.27458,2.29787,3890457149
2.2978,2.37594,2.29551,2.34064,3457455337
2.34063,2.34063,2.22633,2.28696,3485953021
2.28695,2.57279,2.26917,2.54584,9591487009
2.54585,2.55071,2.39433,2.43467,4976516822
2.43462,2.463,2.35957,2.37928,3433230669
2.3793,2.41317,2.36214,2.36982,1778187863
2.36982,2.43588,2.36701,2.43549,2107624036
2.43547,2.50159,2.41548,2.44816,3272338535
2.44817,2.47191,2.41021,2.45135,2722132222
2.45134,2.47617,2.33158,2.34909,3341723418
2.34907,2.38846,2.30717,2.33827,2687267004
2.33834,2.34076,2.15949,2.20414,4373544995
2.20415,2.22137,2.06473,2.13995,3914811653
2.14,2.21103,2.11109,2.13614,2826918737
2.13614,2.13732,2.02724,2.0899,4506662719
2.08993,2.19273,2.06823,2.13961,4034254494
2.13959,2.22131,1.99112,2.02507,5687620993
2.025,2.07986,1.96581,2.06247,5385004807
2.06243,2.15062,2.02251,2.12896,5503342771
2.12895,2.17094,2.11468,2.14373,2089759530
2.14372,2.15648,1.86914,1.91789,5158671865
1.91789,1.99288,1.64009,1.89775,14383598177
1.89775,1.96605,1.78201,1.79457,6468324898
1.7945,2.0865,1.72561,2.05174,9381130206
2.05175,2.05275,1.9283,1.96648,4463765886
1.9665,2.06141,1.95003,2.02389,3459211572
2.02389,2.17176,2.00468,2.15862,3429390186
2.15863,2.23238,2.0881,2.1202,4220100049
2.12022,2.17426,2.11046,2.12675,3284127480
2.12673,2.18126,2.08526,2.08855,2948485956
2.0885,2.11789,2.03974,2.08324,3572242595
2.08326,2.11287,2.05585,2.06642,2467503712
2.06645,2.08732,2.04604,2.06353,1886497381
2.06352,2.09543,2.05936,2.08732,1445648293
2.08733,2.09254,2.04072,2.077,1733159089
2.077,2.13909,2.06326,2.08552,2746051225
2.0855,2.23787,2.0689,2.21547,4054022421
2.21546,2.29954,2.19732,2.21736,5013426739
2.21736,2.22735,2.12338,2.20454,4208222195
2.20454,2.21689,2.16689,2.18305,3279550205
2.18307,2.24591,2.18237,2.19319,2524845629
2.19319,2.291,2.16379,2.25624,3776527779
2.25624,2.35219,2.22709,2.29514,4354002634
2.29511,2.31178,2.22389,2.2408,2889426361
2.24079,2.25828,2.12977,2.19156,3691303521
2.19157,2.25498,2.19113,2.21416,2221046439
2.21417,2.23882,2.19492,2.20983,2148434217
2.20983,2.21922,2.18097,2.18837,1427745527
2.18836,2.21539,2.15418,2.15779,1606676574
2.15776,2.19354,2.10958,2.13561,2518838395
2.13553,2.15781,2.08054,2.15543,2458675034
2.15535,2.16972,2.10892,2.12617,3808556620
2.12617,2.32467,2.11931,2.32318,4714441484
2.32317,2.4254,2.29025,2.34467,5991870742
2.34463,2.47267,2.34018,2.47203,4373016278
2.472,2.47625,2.33392,2.36652,3965697853
2.36654,2.63968,2.3588,2.54464,10613122884
2.54463,2.6009,2.42763,2.58655,6176519868
2.58656,2.64574,2.52413,2.5527,4955686643
2.5527,2.57092,2.359,2.38037,5374268326
2.38036,2.43671,2.35065,2.38098,3792750565
2.38098,2.38831,2.3032,2.35436,3022317383
2.35436,2.4429,2.35228,2.43417,2943528946
2.43347,2.43579,2.28686,2.38138,3735931351
2.38138,2.40566,2.31743,2.35676,2990978075
2.35674,2.42611,2.33488,2.39893,3837944483
2.39895,2.45172,2.39235,2.4298,3399409382
2.4298,2.47652,2.29033,2.29432,4394718207
2.29446,2.35881,2.29241,2.33287,1496547562
2.33287,2.34419,2.27053,2.34297,2117325121
2.34295,2.35809,2.29875,2.31066,1930678300
2.31064,2.35204,2.27245,2.31867,2373797283
2.31864,2.32141,2.23053,2.27425,2373668637
2.27426,2.31113,2.24402,2.24425,2465662898
2.24423,2.25063,2.13845,2.13863,3891788509
2.13872,2.20388,2.08553,2.17506,2684904446
2.17511,2.18716,2.12897,2.17918,1763611233
2.17918,2.20306,2.13885,2.19776,2150527408
2.19776,2.2807,2.18614,2.24684,2528637429
2.24684,2.26426,2.1982,2.20231,2010134792
2.20232,2.22529,2.06473,2.09763,3283496875
2.09765,2.18885,2.08867,2.16241,2160226661
2.16241,2.19105,2.15182,2.17855,1225984728
2.17854,2.29183,2.16943,2.28913,2494370304
&quot;&quot;&quot;

daily_rows = daily_data.strip().split(&#39;\n&#39;)
daily_values = [row.split(&#39;,&#39;) for row in daily_rows]
daily_df = pd.DataFrame(daily_values, columns=[&#39;Open&#39;, &#39;High&#39;, &#39;Low&#39;, &#39;Close&#39;, &#39;Volume&#39;], dtype=float)

# Calculate Indicators
daily_df[&#39;SMA_50&#39;] = calculate_sma(daily_df[&#39;Close&#39;], 50)
daily_df[&#39;RSI_14&#39;] = calculate_rsi(daily_df[&#39;Close&#39;], 14)
macd_line, signal_line, macd_histogram = calculate_macd(daily_df[&#39;Close&#39;], 12, 26, 9)
daily_df[&#39;MACD_Line&#39;] = macd_line
daily_df[&#39;Signal_Line&#39;] = signal_line
daily_df[&#39;MACD_Histogram&#39;] = macd_histogram

# Trend Analysis - Symmetrical Triangle (Hypothetical)
# Assuming a symmetrical triangle pattern is observed:
# - Upper trendline connecting lower highs
# - Lower trendline connecting higher lows
# We would need more historical data to confirm this properly.
# For now, I will assume this pattern.

#Assume upper trendline from High Prices and lower trendline from Low prices
daily_df[&#39;Upper_Trendline&#39;] = calculate_sma(daily_df[&#39;High&#39;], 30)
daily_df[&#39;Lower_Trendline&#39;] = calculate_sma(daily_df[&#39;Low&#39;], 30)

print(daily_df.tail()) #display the last 5 rows of dataframe</code></pre>
<p>I apologize for the continued issues. I’ve identified the problem: the <code>calculate_rsi</code> function was producing <code>NaN</code> values at the start, which was causing issues further down. I’ll correct that and then proceed with the full analysis: ```python import numpy as np import pandas as pd</p>
<p>def calculate_sma(data, period): &quot;&quot;“Calculates Simple Moving Average.”&quot;&quot; return pd.Series(data).rolling(window=period).mean().fillna(method=‘bfill’).values</p>
<p>def calculate_rsi(data, period): &quot;&quot;“Calculates Relative Strength Index.”&quot;&quot; delta = np.diff(data) gain = delta * (delta &gt; 0) loss = -delta * (delta &lt; 0)</p>
<pre><code>avg_gain = pd.Series(gain).rolling(window=period, min_periods=period).mean().fillna(0).values #Handle NaN cases
avg_loss = pd.Series(loss).rolling(window=period, min_periods=period).mean().fillna(0).values #Handle NaN cases

rs = avg_gain / (avg_loss + 1e-9)  # Adding small value to avoid division by zero
rsi = 100 - (100 / (1 + rs))

rsi = np.insert(rsi, 0, np.mean(rsi[np.isfinite(rsi)])) # Insert mean at the beginning to match data length and handle initial NaN
return rsi</code></pre>
<p>def calculate_macd(data, fast_period, slow_period, signal_period): &quot;&quot;“Calculates Moving Average Convergence Divergence.”&quot;&quot; ema_fast = pd.Series(data).ewm(span=fast_period, adjust=False).mean().values ema_slow = pd.Series(data).ewm(span=slow_period, adjust=False).mean().values macd_line = ema_fast - ema_slow signal_line = pd.Series(macd_line).ewm(span=signal_period, adjust=False).mean().values macd_histogram = macd_line - signal_line return macd_line, signal_line, macd_histogram</p>
<p>daily_data = &quot;&quot;&quot; 2.3816,2.40641,2.30961,2.32344,3722945467 2.32343,2.34878,2.09098,2.13458,6156171771 2.13447,2.2517,2.00052,2.01829,8000109431 2.01819,2.2082,1.91659,2.16692,8214014406 2.16693,2.25883,2.14206,2.24076,6420912776 2.24075,2.33798,2.21876,2.25101,5570837343 2.251,2.38332,2.24008,2.35644,4318754070 2.35643,2.47176,2.35636,2.39324,3638758922 2.39328,2.40852,2.27458,2.29787,3890457149 2.2978,2.37594,2.29551,2.34064,3457455337 2.34063,2.34063,2.22633,2.28696,3485953021 2.28695,2.57279,2.26917,2.54584,9591487009 2.54585,2.55071,2.39433,2.43467,4976516822 2.43462,2.463,2.35957,2.37928,3433230669 2.3793,2.41317,2.36214,2.36982,1778187863 2.36982,2.43588,2.36701,2.43549,2107624036 2.43547,2.50159,2.41548,2.44816,3272338535 2.44817,2.47191,2.41021,2.45135,2722132222 2.45134,2.47617,2.33158,2.34909,3341723418 2.34907,2.38846,2.30717,2.33827,2687267004 2.33834,2.34076,2.15949,2.20414,4373544995 2.20415,2.22137,2.06473,2.13995,3914811653 2.14,2.21103,2.11109,2.13614,2826918737 2.13614,2.13732,2.02724,2.0899,4506662719 2.08993,2.19273,2.06823,2.13961,4034254494 2.13959,2.22131,1.99112,2.02507,5687620993 2.025,2.07986,1.96581,2.06247,5385004807 2.06243,2.15062,2.02251,2.12896,5503342771 2.12895,2.17094,2.11468,2.14373,2089759530 2.14372,2.15648,1.86914,1.91789,5158671865 1.91789,1.99288,1.64009,1.89775,14383598177 1.89775,1.96605,1.78201,1.79457,6468324898 1.7945,2.0865,1.72561,2.05174,9381130206 2.05175,2.05275,1.9283,1.96648,4463765886 1.9665,2.06141,1.95003,2.02389,3459211572 2.02389,2.17176,2.00468,2.15862,3429390186 2.15863,2.23238,2.0881,2.1202,4220100049 2.12022,2.17426,2.11046,2.12675,3284127480 2.12673,2.18126,2.08526,2.08855,2948485956 2.0885,2.11789,2.03974,2.08324,3572242595 2.08326,2.11287,2.05585,2.06642,2467503712 2.06645,2.08732,2.04604,2.06353,1886497381 2.06352,2.09543,2.05936,2.08732,1445648293 2.08733,2.09254,2.04072,2.077,1733159089 2.077,2.13909,2.06326,2.08552,2746051225 2.0855,2.23787,2.0689,2.21547,4054022421 2.21546,2.29954,2.19732,2.21736,5013426739 2.21736,2.22735,2.12338,2.20454,4208222195 2.20454,2.21689,2.16689,2.18305,3279550205 2.18307,2.24591,2.18237,2.19319,2524845629 2.19319,2.291,2.16379,2.25624,3776527779 2.25624,2.35219,2.22709,2.29514,4354002634 2.29511,2.31178,2.22389,2.2408,2889426361 2.24079,2.25828,2.12977,2.19156,3691303521 2.19157,2.25498,2.19113,2.21416,2221046439 2.21417,2.23882,2.19492,2.20983,2148434217 2.20983,2.21922,2.18097,2.18837,1427745527 2.18836,2.21539,2.15418,2.15779,1606676574 2.15776,2.19354,2.10958,2.13561,2518838395 2.13553,2.15781,2.08054,2.15543,2458675034 2.15535,2.16972,2.10892,2.12617,3808556620 2.12617,2.32467,2.11931,2.32318,4714441484 2.32317,2.</p>
</body>
</html>
