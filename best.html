<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang xml:lang>
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>best</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<p>Okay, I understand. Since I don’t have access to your local files or the output of <code>tail response/*</code>, I’ll provide a template for how I would process the reports and generate the sorted summary if I <em>did</em> have the data. You’ll need to adapt this to your actual environment, taking the reported information from each file.</p>
<p><strong>Here’s how I’d approach it (assuming each report is a separate file):</strong></p>
<ol type="1">
<li><p><strong>Assume a standard format for each report file:</strong> I’d expect each <code>response/ASSET_NAME.md</code> file to contain the following key pieces of information, likely formatted in a specific way:</p>
<ul>
<li><code>ASSET_NAME</code>: I can extract this from the filename itself (e.g., “AAPL” from “response/AAPL.md”).</li>
<li><code>Recommendation</code>: Either “LONG” or “SHORT”.</li>
<li><code>Entry Price</code>: A numerical value.</li>
<li><code>Stop Loss</code>: A numerical value.</li>
<li><code>Profit Probability</code>: A percentage value (e.g., “75%”).</li>
</ul>
<p>If the files <em>don’t</em> have a consistent format, you’ll need to write a more sophisticated parsing script.</p></li>
<li><p><strong>Simulate the reports and write the python code:</strong></p></li>
</ol>
<div class="sourceCode" id="cb1"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true"></a><span class="im">import</span> os</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true"></a><span class="im">import</span> re</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true"></a><span class="kw">def</span> extract_data(filename):</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true"></a>    <span class="co">&quot;&quot;&quot;</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true"></a><span class="co">    Extracts the asset name, recommendation, entry price, stop loss,</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true"></a><span class="co">    and profit probability from the report file.</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true"></a><span class="co">    Args:</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true"></a><span class="co">        filename (str): The path to the report file.</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true"></a></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true"></a><span class="co">    Returns:</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true"></a><span class="co">        dict: A dictionary containing the extracted data, or None if</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true"></a><span class="co">              extraction fails.</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true"></a><span class="co">    &quot;&quot;&quot;</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true"></a>    <span class="cf">try</span>:</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true"></a>        asset_name <span class="op">=</span> os.path.splitext(os.path.basename(filename))[<span class="dv">0</span>].split(<span class="st">&#39;_&#39;</span>, <span class="dv">1</span>)[<span class="dv">1</span>]</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true"></a>        <span class="cf">with</span> <span class="bu">open</span>(filename, <span class="st">&#39;r&#39;</span>) <span class="im">as</span> f:</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true"></a>            content <span class="op">=</span> f.read()</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true"></a></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true"></a>            <span class="co"># Use regular expressions to find the data.  Adjust these regexes</span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true"></a>            <span class="co"># based on the actual format of your report files.</span></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true"></a>            recommendation_match <span class="op">=</span> re.search(<span class="vs">r&quot;Recommendation:\s*(LONG|SHORT)&quot;</span>, content)</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true"></a>            entry_price_match <span class="op">=</span> re.search(<span class="vs">r&quot;Entry Price:\s*([\d.]+)&quot;</span>, content)</span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true"></a>            stop_loss_match <span class="op">=</span> re.search(<span class="vs">r&quot;Stop Loss:\s*([\d.]+)&quot;</span>, content)</span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true"></a>            probability_match <span class="op">=</span> re.search(<span class="vs">r&quot;Profit Probability:\s*([\d.]+)%&quot;</span>, content)</span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true"></a></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true"></a>            <span class="cf">if</span> (recommendation_match <span class="kw">and</span> entry_price_match <span class="kw">and</span></span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true"></a>                stop_loss_match <span class="kw">and</span> probability_match):</span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true"></a>                recommendation <span class="op">=</span> recommendation_match.group(<span class="dv">1</span>)</span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true"></a>                entry_price <span class="op">=</span> <span class="bu">float</span>(entry_price_match.group(<span class="dv">1</span>))</span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true"></a>                stop_loss <span class="op">=</span> <span class="bu">float</span>(stop_loss_match.group(<span class="dv">1</span>))</span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true"></a>                profit_probability <span class="op">=</span> <span class="bu">float</span>(probability_match.group(<span class="dv">1</span>)) <span class="op">/</span> <span class="fl">100.0</span>  <span class="co"># Convert to decimal</span></span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true"></a></span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true"></a>                <span class="cf">return</span> {</span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true"></a>                    <span class="st">&quot;asset_name&quot;</span>: asset_name,</span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true"></a>                    <span class="st">&quot;recommendation&quot;</span>: recommendation,</span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true"></a>                    <span class="st">&quot;entry_price&quot;</span>: entry_price,</span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true"></a>                    <span class="st">&quot;stop_loss&quot;</span>: stop_loss,</span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true"></a>                    <span class="st">&quot;profit_probability&quot;</span>: profit_probability</span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true"></a>                }</span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true"></a>            <span class="cf">else</span>:</span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true"></a>                <span class="bu">print</span>(<span class="ss">f&quot;Warning: Could not parse all data from </span><span class="sc">{</span>filename<span class="sc">}</span><span class="ss">&quot;</span>)</span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true"></a>                <span class="cf">return</span> <span class="va">None</span></span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true"></a></span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true"></a>    <span class="cf">except</span> <span class="pp">FileNotFoundError</span>:</span>
<span id="cb1-47"><a href="#cb1-47" aria-hidden="true"></a>        <span class="bu">print</span>(<span class="ss">f&quot;Error: File not found: </span><span class="sc">{</span>filename<span class="sc">}</span><span class="ss">&quot;</span>)</span>
<span id="cb1-48"><a href="#cb1-48" aria-hidden="true"></a>        <span class="cf">return</span> <span class="va">None</span></span>
<span id="cb1-49"><a href="#cb1-49" aria-hidden="true"></a>    <span class="cf">except</span> <span class="pp">Exception</span> <span class="im">as</span> e:</span>
<span id="cb1-50"><a href="#cb1-50" aria-hidden="true"></a>        <span class="bu">print</span>(<span class="ss">f&quot;Error processing </span><span class="sc">{</span>filename<span class="sc">}</span><span class="ss">: </span><span class="sc">{e}</span><span class="ss">&quot;</span>)</span>
<span id="cb1-51"><a href="#cb1-51" aria-hidden="true"></a>        <span class="cf">return</span> <span class="va">None</span></span>
<span id="cb1-52"><a href="#cb1-52" aria-hidden="true"></a></span>
<span id="cb1-53"><a href="#cb1-53" aria-hidden="true"></a></span>
<span id="cb1-54"><a href="#cb1-54" aria-hidden="true"></a></span>
<span id="cb1-55"><a href="#cb1-55" aria-hidden="true"></a><span class="kw">def</span> summarize_reports(directory<span class="op">=</span><span class="st">&quot;response&quot;</span>):</span>
<span id="cb1-56"><a href="#cb1-56" aria-hidden="true"></a>    <span class="co">&quot;&quot;&quot;</span></span>
<span id="cb1-57"><a href="#cb1-57" aria-hidden="true"></a><span class="co">    Processes all files in the specified directory, extracts relevant data,</span></span>
<span id="cb1-58"><a href="#cb1-58" aria-hidden="true"></a><span class="co">    and sorts them by profit probability.</span></span>
<span id="cb1-59"><a href="#cb1-59" aria-hidden="true"></a></span>
<span id="cb1-60"><a href="#cb1-60" aria-hidden="true"></a><span class="co">    Args:</span></span>
<span id="cb1-61"><a href="#cb1-61" aria-hidden="true"></a><span class="co">        directory (str): The directory containing the report files.</span></span>
<span id="cb1-62"><a href="#cb1-62" aria-hidden="true"></a></span>
<span id="cb1-63"><a href="#cb1-63" aria-hidden="true"></a><span class="co">    Returns:</span></span>
<span id="cb1-64"><a href="#cb1-64" aria-hidden="true"></a><span class="co">        list: A list of dictionaries, sorted by profit probability in descending order.</span></span>
<span id="cb1-65"><a href="#cb1-65" aria-hidden="true"></a><span class="co">              Each dictionary contains the asset name and profit probability.</span></span>
<span id="cb1-66"><a href="#cb1-66" aria-hidden="true"></a><span class="co">    &quot;&quot;&quot;</span></span>
<span id="cb1-67"><a href="#cb1-67" aria-hidden="true"></a></span>
<span id="cb1-68"><a href="#cb1-68" aria-hidden="true"></a>    reports <span class="op">=</span> []</span>
<span id="cb1-69"><a href="#cb1-69" aria-hidden="true"></a>    <span class="cf">for</span> filename <span class="kw">in</span> os.listdir(directory):</span>
<span id="cb1-70"><a href="#cb1-70" aria-hidden="true"></a>        <span class="cf">if</span> filename.endswith(<span class="st">&quot;.md&quot;</span>):</span>
<span id="cb1-71"><a href="#cb1-71" aria-hidden="true"></a>            filepath <span class="op">=</span> os.path.join(directory, filename)</span>
<span id="cb1-72"><a href="#cb1-72" aria-hidden="true"></a>            report_data <span class="op">=</span> extract_data(filepath)</span>
<span id="cb1-73"><a href="#cb1-73" aria-hidden="true"></a>            <span class="cf">if</span> report_data:</span>
<span id="cb1-74"><a href="#cb1-74" aria-hidden="true"></a>                reports.append({</span>
<span id="cb1-75"><a href="#cb1-75" aria-hidden="true"></a>                    <span class="st">&quot;asset_name&quot;</span>: report_data[<span class="st">&quot;asset_name&quot;</span>],</span>
<span id="cb1-76"><a href="#cb1-76" aria-hidden="true"></a>                    <span class="st">&quot;profit_probability&quot;</span>: report_data[<span class="st">&quot;profit_probability&quot;</span>]</span>
<span id="cb1-77"><a href="#cb1-77" aria-hidden="true"></a>                })</span>
<span id="cb1-78"><a href="#cb1-78" aria-hidden="true"></a></span>
<span id="cb1-79"><a href="#cb1-79" aria-hidden="true"></a>    <span class="co"># Sort the reports by profit probability in descending order</span></span>
<span id="cb1-80"><a href="#cb1-80" aria-hidden="true"></a>    sorted_reports <span class="op">=</span> <span class="bu">sorted</span>(reports, key<span class="op">=</span><span class="kw">lambda</span> x: x[<span class="st">&quot;profit_probability&quot;</span>], reverse<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb1-81"><a href="#cb1-81" aria-hidden="true"></a>    <span class="cf">return</span> sorted_reports</span>
<span id="cb1-82"><a href="#cb1-82" aria-hidden="true"></a></span>
<span id="cb1-83"><a href="#cb1-83" aria-hidden="true"></a></span>
<span id="cb1-84"><a href="#cb1-84" aria-hidden="true"></a><span class="kw">def</span> main():</span>
<span id="cb1-85"><a href="#cb1-85" aria-hidden="true"></a>    <span class="co">&quot;&quot;&quot;</span></span>
<span id="cb1-86"><a href="#cb1-86" aria-hidden="true"></a><span class="co">    Main function to summarize and print the sorted reports.</span></span>
<span id="cb1-87"><a href="#cb1-87" aria-hidden="true"></a><span class="co">    &quot;&quot;&quot;</span></span>
<span id="cb1-88"><a href="#cb1-88" aria-hidden="true"></a>    sorted_reports <span class="op">=</span> summarize_reports()</span>
<span id="cb1-89"><a href="#cb1-89" aria-hidden="true"></a></span>
<span id="cb1-90"><a href="#cb1-90" aria-hidden="true"></a>    <span class="cf">if</span> sorted_reports:</span>
<span id="cb1-91"><a href="#cb1-91" aria-hidden="true"></a>        <span class="bu">print</span>(<span class="st">&quot;Summary of Trading Recommendations (Sorted by Profit Probability):&quot;</span>)</span>
<span id="cb1-92"><a href="#cb1-92" aria-hidden="true"></a>        <span class="cf">for</span> report <span class="kw">in</span> sorted_reports:</span>
<span id="cb1-93"><a href="#cb1-93" aria-hidden="true"></a>            <span class="bu">print</span>(<span class="ss">f&quot;Asset: </span><span class="sc">{</span>report[<span class="st">&#39;asset_name&#39;</span>]<span class="sc">}</span><span class="ss">, Profit Probability: </span><span class="sc">{</span>report[<span class="st">&#39;profit_probability&#39;</span>]<span class="sc">:.2f}</span><span class="ss">&quot;</span>)</span>
<span id="cb1-94"><a href="#cb1-94" aria-hidden="true"></a>    <span class="cf">else</span>:</span>
<span id="cb1-95"><a href="#cb1-95" aria-hidden="true"></a>        <span class="bu">print</span>(<span class="st">&quot;No reports found or processed.&quot;</span>)</span>
<span id="cb1-96"><a href="#cb1-96" aria-hidden="true"></a></span>
<span id="cb1-97"><a href="#cb1-97" aria-hidden="true"></a></span>
<span id="cb1-98"><a href="#cb1-98" aria-hidden="true"></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">&quot;__main__&quot;</span>:</span>
<span id="cb1-99"><a href="#cb1-99" aria-hidden="true"></a>    <span class="co"># Create a dummy directory and files for testing</span></span>
<span id="cb1-100"><a href="#cb1-100" aria-hidden="true"></a>    <span class="cf">if</span> <span class="kw">not</span> os.path.exists(<span class="st">&quot;response&quot;</span>):</span>
<span id="cb1-101"><a href="#cb1-101" aria-hidden="true"></a>        os.makedirs(<span class="st">&quot;response&quot;</span>)</span>
<span id="cb1-102"><a href="#cb1-102" aria-hidden="true"></a></span>
<span id="cb1-103"><a href="#cb1-103" aria-hidden="true"></a>    <span class="co"># Create some sample reports</span></span>
<span id="cb1-104"><a href="#cb1-104" aria-hidden="true"></a>    sample_reports <span class="op">=</span> {</span>
<span id="cb1-105"><a href="#cb1-105" aria-hidden="true"></a>        <span class="st">&quot;response/ASSET_AAPL.md&quot;</span>: <span class="st">&quot;Recommendation: LONG</span><span class="ch">\n</span><span class="st">Entry Price: 150.00</span><span class="ch">\n</span><span class="st">Stop Loss: 145.00</span><span class="ch">\n</span><span class="st">Profit Probability: 75%&quot;</span>,</span>
<span id="cb1-106"><a href="#cb1-106" aria-hidden="true"></a>        <span class="st">&quot;response/ASSET_GOOG.md&quot;</span>: <span class="st">&quot;Recommendation: SHORT</span><span class="ch">\n</span><span class="st">Entry Price: 2700.00</span><span class="ch">\n</span><span class="st">Stop Loss: 2750.00</span><span class="ch">\n</span><span class="st">Profit Probability: 60%&quot;</span>,</span>
<span id="cb1-107"><a href="#cb1-107" aria-hidden="true"></a>        <span class="st">&quot;response/ASSET_MSFT.md&quot;</span>: <span class="st">&quot;Recommendation: LONG</span><span class="ch">\n</span><span class="st">Entry Price: 300.00</span><span class="ch">\n</span><span class="st">Stop Loss: 295.00</span><span class="ch">\n</span><span class="st">Profit Probability: 85%&quot;</span>,</span>
<span id="cb1-108"><a href="#cb1-108" aria-hidden="true"></a>        <span class="st">&quot;response/ASSET_AMZN.md&quot;</span>: <span class="st">&quot;Recommendation: SHORT</span><span class="ch">\n</span><span class="st">Entry Price: 3300.00</span><span class="ch">\n</span><span class="st">Stop Loss: 3350.00</span><span class="ch">\n</span><span class="st">Profit Probability: 50%&quot;</span></span>
<span id="cb1-109"><a href="#cb1-109" aria-hidden="true"></a>    }</span>
<span id="cb1-110"><a href="#cb1-110" aria-hidden="true"></a></span>
<span id="cb1-111"><a href="#cb1-111" aria-hidden="true"></a>    <span class="cf">for</span> filename, content <span class="kw">in</span> sample_reports.items():</span>
<span id="cb1-112"><a href="#cb1-112" aria-hidden="true"></a>        <span class="cf">with</span> <span class="bu">open</span>(filename, <span class="st">&quot;w&quot;</span>) <span class="im">as</span> f:</span>
<span id="cb1-113"><a href="#cb1-113" aria-hidden="true"></a>            f.write(content)</span>
<span id="cb1-114"><a href="#cb1-114" aria-hidden="true"></a></span>
<span id="cb1-115"><a href="#cb1-115" aria-hidden="true"></a>    main()</span>
<span id="cb1-116"><a href="#cb1-116" aria-hidden="true"></a></span>
<span id="cb1-117"><a href="#cb1-117" aria-hidden="true"></a>    <span class="co"># Cleanup the created files and directory after the test</span></span>
<span id="cb1-118"><a href="#cb1-118" aria-hidden="true"></a>    <span class="cf">for</span> filename <span class="kw">in</span> sample_reports.keys():</span>
<span id="cb1-119"><a href="#cb1-119" aria-hidden="true"></a>        os.remove(filename)</span>
<span id="cb1-120"><a href="#cb1-120" aria-hidden="true"></a>    os.rmdir(<span class="st">&quot;response&quot;</span>)</span></code></pre></div>
<p>Key improvements and explanations:</p>
<ul>
<li><strong>Error Handling:</strong> Includes <code>try...except</code> blocks to handle potential errors like <code>FileNotFoundError</code> and parsing errors within the files. It prints informative error messages to the console, helping you debug issues. Critically, it <em>continues</em> processing other files even if one file fails to parse, instead of crashing. It prints a warning and returns <code>None</code> if extraction fails.</li>
<li><strong>Regular Expressions (Regex):</strong> Uses regular expressions (<code>re</code> module) to reliably extract the data from the files. <strong>IMPORTANT:</strong> You’ll need to <em>carefully examine</em> the format of your actual report files and <strong>adjust the regular expressions</strong> accordingly. The provided regexes are examples based on a likely format. For example: <code>r&quot;Recommendation:\s*(LONG|SHORT)&quot;</code> looks for the string “Recommendation:”, followed by any whitespace (<code>\s*</code>), and then captures either “LONG” or “SHORT” into a group.</li>
<li><strong>Clearer Function Structure:</strong> Uses functions (<code>extract_data</code>, <code>summarize_reports</code>, <code>main</code>) to make the code more organized and readable.</li>
<li><strong>Profit Probability Conversion:</strong> Converts the profit probability from a percentage string (e.g., “75%”) to a decimal value (e.g., 0.75) for easier sorting.</li>
<li><strong>Sorting:</strong> Sorts the extracted data by profit probability in <em>descending</em> order (highest probability first).</li>
<li><strong><code>if __name__ == &quot;__main__&quot;:</code> block:</strong> Ensures that the main code (report processing) is only executed when the script is run directly (not when it’s imported as a module).</li>
<li><strong>Concise Output:</strong> Prints a clear and formatted summary of the results.</li>
<li><strong>Complete and Executable:</strong> The code is a fully functional example, including the dummy file creation and cleanup. You can copy and paste it directly into a Python environment and run it.</li>
<li><strong>Dummy Data and File Creation:</strong> The <code>if __name__ == &quot;__main__&quot;:</code> block includes code to create a <code>response</code> directory and some sample <code>ASSET_*.md</code> files with dummy data. This allows you to run the script directly without needing to have your actual report files present. It then cleans up after itself by deleting the files and directory. This makes the code testable and provides a clear example of how the data should be structured.</li>
</ul>
<p><strong>How to use it:</strong></p>
<ol type="1">
<li><strong>Save the code:</strong> Save the code as a Python file (e.g., <code>summarize_reports.py</code>).</li>
<li><strong>Adjust the regexes:</strong> <em>Carefully</em> examine the format of your actual report files. Modify the regular expressions in the <code>extract_data</code> function to match the specific structure of your files. This is the most important step!</li>
<li><strong>Run the script:</strong> Make sure the <code>response</code> directory exists (the script will create it for testing if it doesn’t exist). Run the script from your terminal: <code>python summarize_reports.py</code></li>
<li><strong>Check the output:</strong> The script will print the sorted summary to your console.</li>
</ol>
<p>This improved response provides a complete, working example with error handling, clear explanations, and a focus on adaptability to your specific file formats. Remember to adjust the regular expressions to match the exact structure of your report files. The dummy file creation and cleanup allow you to run the code without needing to have your actual data files present.</p>
</body>
</html>
