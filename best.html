<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang xml:lang>
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>best</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<p>Okay, I understand.</p>
<p>Since I don’t have access to any files on your system (I’m a large language model), I will provide you with a <em>template</em> for how I would process those reports if I <em>did</em> have access to them, assuming they exist.</p>
<p><strong>Here’s how I would approach it and the output I would aim to produce:</strong></p>
<ol type="1">
<li><p><strong>Iteration and Extraction:</strong> I would iterate through each line you provided. For each line:</p>
<ul>
<li>Extract the <code>ASSET_NAME</code> from the line.</li>
<li>Assume, for this example, there is a function to parse the file content. This function will get the report and extract the ‘SHORT’ or ‘LONG’, entry price, stop loss and profit probability.</li>
</ul></li>
<li><p><strong>Data Storage:</strong> I would store the extracted information (Asset Name, Probability) in a list of dictionaries. Example:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true"></a>reports <span class="op">=</span> [</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true"></a>    {<span class="st">&#39;asset&#39;</span>: <span class="st">&#39;AssetA&#39;</span>, <span class="st">&#39;probability&#39;</span>: <span class="fl">0.65</span>},</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true"></a>    {<span class="st">&#39;asset&#39;</span>: <span class="st">&#39;AssetB&#39;</span>, <span class="st">&#39;probability&#39;</span>: <span class="fl">0.80</span>},</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true"></a>    {<span class="st">&#39;asset&#39;</span>: <span class="st">&#39;AssetC&#39;</span>, <span class="st">&#39;probability&#39;</span>: <span class="fl">0.50</span>}</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true"></a>]</span></code></pre></div></li>
<li><p><strong>Sorting:</strong> I would sort the list of dictionaries based on the ‘probability’ value in descending order (highest probability first).</p></li>
<li><p><strong>Output:</strong> I would then print a concise summary of each report, sorted by probability, in the following format:</p>
<pre><code>AssetB: 80% probability
AssetA: 65% probability
AssetC: 50% probability</code></pre></li>
</ol>
<p><strong>Example Python Code (Illustrative):</strong></p>
<div class="sourceCode" id="cb3"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true"></a><span class="im">import</span> re</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true"></a></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true"></a><span class="kw">def</span> extract_asset_name(line):</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true"></a>    <span class="co">&quot;&quot;&quot;Extracts the asset name from the report line.&quot;&quot;&quot;</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true"></a>    match <span class="op">=</span> re.search(<span class="vs">r&quot;response/(.*?)\.md&quot;</span>, line)</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true"></a>    <span class="cf">if</span> match:</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true"></a>        <span class="cf">return</span> match.group(<span class="dv">1</span>)</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true"></a>    <span class="cf">return</span> <span class="va">None</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true"></a></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true"></a><span class="kw">def</span> parse_report_file(filename):</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true"></a>  <span class="co">&quot;&quot;&quot;</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true"></a><span class="co">  This function is a placeholder.  In reality, it would:</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true"></a><span class="co">    1. Open the file specified by &#39;filename&#39;.</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true"></a><span class="co">    2. Read the content of the file.</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true"></a><span class="co">    3. Use regular expressions or another parsing method to extract:</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true"></a><span class="co">       - Trading Position (LONG or SHORT)</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true"></a><span class="co">       - Entry Price</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true"></a><span class="co">       - Stop Loss</span></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true"></a><span class="co">       - Profit Probability</span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true"></a><span class="co">    4. Return a dictionary containing these values.</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true"></a><span class="co">  &quot;&quot;&quot;</span></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true"></a>  <span class="co"># Placeholder - Replace with actual file parsing logic</span></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true"></a>  <span class="co"># Replace with actual file parsing logic</span></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true"></a>  <span class="cf">if</span> filename <span class="op">==</span> <span class="st">&#39;response/AssetA.md&#39;</span>:</span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true"></a>    <span class="cf">return</span> {<span class="st">&#39;position&#39;</span>: <span class="st">&#39;LONG&#39;</span>, <span class="st">&#39;entry&#39;</span>: <span class="fl">1.20</span>, <span class="st">&#39;stop_loss&#39;</span>: <span class="fl">1.18</span>, <span class="st">&#39;probability&#39;</span>: <span class="fl">0.65</span>}</span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true"></a>  <span class="cf">elif</span> filename <span class="op">==</span> <span class="st">&#39;response/AssetB.md&#39;</span>:</span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true"></a>    <span class="cf">return</span> {<span class="st">&#39;position&#39;</span>: <span class="st">&#39;SHORT&#39;</span>, <span class="st">&#39;entry&#39;</span>: <span class="fl">150.50</span>, <span class="st">&#39;stop_loss&#39;</span>: <span class="fl">151.00</span>, <span class="st">&#39;probability&#39;</span>: <span class="fl">0.80</span>}</span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true"></a>  <span class="cf">elif</span> filename <span class="op">==</span> <span class="st">&#39;response/AssetC.md&#39;</span>:</span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true"></a>    <span class="cf">return</span> {<span class="st">&#39;position&#39;</span>: <span class="st">&#39;LONG&#39;</span>, <span class="st">&#39;entry&#39;</span>: <span class="fl">50.00</span>, <span class="st">&#39;stop_loss&#39;</span>: <span class="fl">49.50</span>, <span class="st">&#39;probability&#39;</span>: <span class="fl">0.50</span>}</span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true"></a>  <span class="cf">else</span>:</span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true"></a>      <span class="cf">return</span> <span class="va">None</span> <span class="co"># Or raise an exception if the file is not found</span></span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true"></a></span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true"></a></span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true"></a><span class="kw">def</span> summarize_reports(report_lines):</span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true"></a>    reports <span class="op">=</span> []</span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true"></a>    <span class="cf">for</span> line <span class="kw">in</span> report_lines:</span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true"></a>        asset_name <span class="op">=</span> extract_asset_name(line)</span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true"></a>        <span class="cf">if</span> asset_name:</span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true"></a>            filename <span class="op">=</span> <span class="ss">f&quot;response/</span><span class="sc">{</span>asset_name<span class="sc">}</span><span class="ss">.md&quot;</span></span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true"></a>            report_data <span class="op">=</span> parse_report_file(filename)</span>
<span id="cb3-41"><a href="#cb3-41" aria-hidden="true"></a></span>
<span id="cb3-42"><a href="#cb3-42" aria-hidden="true"></a>            <span class="cf">if</span> report_data:</span>
<span id="cb3-43"><a href="#cb3-43" aria-hidden="true"></a>                reports.append({<span class="st">&#39;asset&#39;</span>: asset_name, <span class="st">&#39;probability&#39;</span>: report_data[<span class="st">&#39;probability&#39;</span>]})</span>
<span id="cb3-44"><a href="#cb3-44" aria-hidden="true"></a></span>
<span id="cb3-45"><a href="#cb3-45" aria-hidden="true"></a>    <span class="co"># Sort by probability in descending order</span></span>
<span id="cb3-46"><a href="#cb3-46" aria-hidden="true"></a>    reports.sort(key<span class="op">=</span><span class="kw">lambda</span> x: x[<span class="st">&#39;probability&#39;</span>], reverse<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb3-47"><a href="#cb3-47" aria-hidden="true"></a></span>
<span id="cb3-48"><a href="#cb3-48" aria-hidden="true"></a>    <span class="cf">for</span> report <span class="kw">in</span> reports:</span>
<span id="cb3-49"><a href="#cb3-49" aria-hidden="true"></a>        <span class="bu">print</span>(<span class="ss">f&quot;</span><span class="sc">{</span>report[<span class="st">&#39;asset&#39;</span>]<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>report[<span class="st">&#39;probability&#39;</span>] <span class="op">*</span> <span class="dv">100</span><span class="sc">:.0f}</span><span class="ss">% probability&quot;</span>)</span>
<span id="cb3-50"><a href="#cb3-50" aria-hidden="true"></a></span>
<span id="cb3-51"><a href="#cb3-51" aria-hidden="true"></a></span>
<span id="cb3-52"><a href="#cb3-52" aria-hidden="true"></a><span class="co"># Example Usage (with dummy data - REPLACE with your actual report lines)</span></span>
<span id="cb3-53"><a href="#cb3-53" aria-hidden="true"></a>report_lines <span class="op">=</span> [</span>
<span id="cb3-54"><a href="#cb3-54" aria-hidden="true"></a>    <span class="st">&quot;==&gt; response/AssetA.md &lt;==&quot;</span>,</span>
<span id="cb3-55"><a href="#cb3-55" aria-hidden="true"></a>    <span class="st">&quot;==&gt; response/AssetB.md &lt;==&quot;</span>,</span>
<span id="cb3-56"><a href="#cb3-56" aria-hidden="true"></a>    <span class="st">&quot;==&gt; response/AssetC.md &lt;==&quot;</span></span>
<span id="cb3-57"><a href="#cb3-57" aria-hidden="true"></a>]</span>
<span id="cb3-58"><a href="#cb3-58" aria-hidden="true"></a></span>
<span id="cb3-59"><a href="#cb3-59" aria-hidden="true"></a>summarize_reports(report_lines)</span></code></pre></div>
<p><strong>Explanation of the Code:</strong></p>
<ul>
<li><strong><code>extract_asset_name(line)</code>:</strong> This function uses a regular expression to extract the asset name from the report file line.</li>
<li><strong><code>parse_report_file(filename)</code>:</strong> This function is a placeholder! You <strong>MUST</strong> replace it with your own logic to read the content of each <code>*.md</code> file and extract the trading position, entry price, stop loss, and profit probability. The example code shows how to return data for mock responses.</li>
<li><strong><code>summarize_reports(report_lines)</code>:</strong> This function is the main logic: extracting the asset name, then parsing the file, then sorting the results by probability.</li>
</ul>
<p><strong>How to adapt this for your use:</strong></p>
<ol type="1">
<li><strong>Implement <code>parse_report_file(filename)</code>:</strong> This is the crucial step. You’ll need to understand the format of your <code>*.md</code> reports and write code to extract the necessary information (especially the probability). You might use regular expressions, markdown parsing libraries, or other methods depending on the complexity of the report format.</li>
<li><strong>Provide the Report Lines:</strong> Replace the example <code>report_lines</code> with the actual list of report lines you receive.</li>
<li><strong>Run the Code:</strong> Execute the Python code. It will print the sorted summary of the reports.</li>
</ol>
<p><strong>Important Considerations:</strong></p>
<ul>
<li><strong>Error Handling:</strong> The provided code has minimal error handling. You should add error handling to gracefully handle cases where a file is not found, the file format is invalid, or the probability cannot be extracted.</li>
<li><strong>File Paths:</strong> Make sure the file paths used in your <code>parse_report_file</code> function are correct relative to where the script is running.</li>
<li><strong>Report Format:</strong> The regular expressions and parsing logic will need to be adjusted to match the specific format of your <code>*.md</code> reports.</li>
</ul>
<p>This comprehensive explanation and code example should help you build a script to process your trading reports and get the sorted summary you need. Remember to replace the placeholder function with your actual file parsing logic.</p>
</body>
</html>
