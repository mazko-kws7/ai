<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang xml:lang>
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>best</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<p>Okay, I understand. Since you cannot provide the actual files, I will create a hypothetical example based on your instructions, and then show you how I would process the reports and present the results if I <em>did</em> have access to the files.</p>
<p><strong>Hypothetical Example Reports:</strong></p>
<p>Let’s say the following reports exist (they would normally be in files, but I’ll represent them as strings):</p>
<ul>
<li><strong>response/AAPL.md:</strong></li>
</ul>
<pre><code>Trading Recommendation: LONG
Entry Price: 170.00
Stop Loss: 165.00
Profit Probability: 75%</code></pre>
<ul>
<li><strong>response/GOOGL.md:</strong></li>
</ul>
<pre><code>Trading Recommendation: SHORT
Entry Price: 2700.00
Stop Loss: 2750.00
Profit Probability: 60%</code></pre>
<ul>
<li><strong>response/MSFT.md:</strong></li>
</ul>
<pre><code>Trading Recommendation: LONG
Entry Price: 330.00
Stop Loss: 325.00
Profit Probability: 85%</code></pre>
<ul>
<li><strong>response/AMZN.md:</strong></li>
</ul>
<pre><code>Trading Recommendation: SHORT
Entry Price: 3500.00
Stop Loss: 3550.00
Profit Probability: 70%</code></pre>
<p><strong>Simulated Processing and Output:</strong></p>
<p>Here’s how I would process these (hypothetical) reports and provide the summary you requested, assuming I had access to the file system:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true"></a><span class="im">import</span> re</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true"></a><span class="im">import</span> os</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true"></a><span class="co"># --- Simulate reading from the files ---</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true"></a>reports <span class="op">=</span> {</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true"></a>    <span class="st">&quot;response/AAPL.md&quot;</span>: <span class="st">&quot;&quot;&quot;</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true"></a><span class="st">Trading Recommendation: LONG</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true"></a><span class="st">Entry Price: 170.00</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true"></a><span class="st">Stop Loss: 165.00</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true"></a><span class="st">Profit Probability: 75%</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true"></a><span class="st">&quot;&quot;&quot;</span>,</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true"></a>    <span class="st">&quot;response/GOOGL.md&quot;</span>: <span class="st">&quot;&quot;&quot;</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true"></a><span class="st">Trading Recommendation: SHORT</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true"></a><span class="st">Entry Price: 2700.00</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true"></a><span class="st">Stop Loss: 2750.00</span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true"></a><span class="st">Profit Probability: 60%</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true"></a><span class="st">&quot;&quot;&quot;</span>,</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true"></a>    <span class="st">&quot;response/MSFT.md&quot;</span>: <span class="st">&quot;&quot;&quot;</span></span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true"></a><span class="st">Trading Recommendation: LONG</span></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true"></a><span class="st">Entry Price: 330.00</span></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true"></a><span class="st">Stop Loss: 325.00</span></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true"></a><span class="st">Profit Probability: 85%</span></span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true"></a><span class="st">&quot;&quot;&quot;</span>,</span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true"></a>    <span class="st">&quot;response/AMZN.md&quot;</span>: <span class="st">&quot;&quot;&quot;</span></span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true"></a><span class="st">Trading Recommendation: SHORT</span></span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true"></a><span class="st">Entry Price: 3500.00</span></span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true"></a><span class="st">Stop Loss: 3550.00</span></span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true"></a><span class="st">Profit Probability: 70%</span></span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true"></a><span class="st">&quot;&quot;&quot;</span></span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true"></a>}</span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true"></a><span class="co"># --------------------------------------</span></span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true"></a></span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true"></a>report_summaries <span class="op">=</span> []</span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true"></a></span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true"></a><span class="cf">for</span> filename, content <span class="kw">in</span> reports.items():</span>
<span id="cb5-36"><a href="#cb5-36" aria-hidden="true"></a>    asset_name <span class="op">=</span> os.path.basename(filename).replace(<span class="st">&quot;.md&quot;</span>, <span class="st">&quot;&quot;</span>)</span>
<span id="cb5-37"><a href="#cb5-37" aria-hidden="true"></a>    match <span class="op">=</span> re.search(<span class="vs">r&quot;Profit Probability: (\d+)%&quot;</span>, content)  <span class="co">#Correct regex</span></span>
<span id="cb5-38"><a href="#cb5-38" aria-hidden="true"></a>    <span class="cf">if</span> match:</span>
<span id="cb5-39"><a href="#cb5-39" aria-hidden="true"></a>        probability <span class="op">=</span> <span class="bu">int</span>(match.group(<span class="dv">1</span>))</span>
<span id="cb5-40"><a href="#cb5-40" aria-hidden="true"></a>        report_summaries.append({<span class="st">&quot;asset&quot;</span>: asset_name, <span class="st">&quot;probability&quot;</span>: probability})</span>
<span id="cb5-41"><a href="#cb5-41" aria-hidden="true"></a>    <span class="cf">else</span>:</span>
<span id="cb5-42"><a href="#cb5-42" aria-hidden="true"></a>        <span class="bu">print</span>(<span class="ss">f&quot;Warning: Could not extract probability from </span><span class="sc">{</span>filename<span class="sc">}</span><span class="ss">&quot;</span>)</span>
<span id="cb5-43"><a href="#cb5-43" aria-hidden="true"></a></span>
<span id="cb5-44"><a href="#cb5-44" aria-hidden="true"></a><span class="co"># Sort by probability in descending order</span></span>
<span id="cb5-45"><a href="#cb5-45" aria-hidden="true"></a>report_summaries.sort(key<span class="op">=</span><span class="kw">lambda</span> x: x[<span class="st">&quot;probability&quot;</span>], reverse<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb5-46"><a href="#cb5-46" aria-hidden="true"></a></span>
<span id="cb5-47"><a href="#cb5-47" aria-hidden="true"></a><span class="co"># Print the sorted summaries</span></span>
<span id="cb5-48"><a href="#cb5-48" aria-hidden="true"></a><span class="bu">print</span>(<span class="st">&quot;Report Summaries (Sorted by Profit Probability):&quot;</span>)</span>
<span id="cb5-49"><a href="#cb5-49" aria-hidden="true"></a><span class="cf">for</span> summary <span class="kw">in</span> report_summaries:</span>
<span id="cb5-50"><a href="#cb5-50" aria-hidden="true"></a>    <span class="bu">print</span>(<span class="ss">f&quot;</span><span class="sc">{</span>summary[<span class="st">&#39;asset&#39;</span>]<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>summary[<span class="st">&#39;probability&#39;</span>]<span class="sc">}</span><span class="ss">%&quot;</span>)</span></code></pre></div>
<p><strong>Explanation and Output:</strong></p>
<ol type="1">
<li><p><strong>Simulated Data:</strong> I’ve created a dictionary <code>reports</code> that simulates reading the content of each <code>.md</code> file. In reality, you would use <code>open()</code> to read from the files.</p></li>
<li><p><strong>Extraction:</strong> The code iterates through the filenames. The basename is extracted from the filename using <code>os.path.basename()</code>. <code>.md</code> is removed. The code use regex <code>re.search(r&quot;Profit Probability: (\d+)%&quot;, content)</code> to safely search for pattern in the file content. The probability is captured.</p></li>
<li><p><strong>Data Structure:</strong> The extracted data (asset name and probability) is stored in a list of dictionaries called <code>report_summaries</code>.</p></li>
<li><p><strong>Sorting:</strong> The <code>report_summaries</code> list is sorted in descending order based on the <code>probability</code> value using a <code>lambda</code> function as the key for sorting.</p></li>
<li><p><strong>Output:</strong> The code then prints the sorted summaries in the requested format.</p></li>
</ol>
<p><strong>Output of the Simulated Example:</strong></p>
<pre><code>Report Summaries (Sorted by Profit Probability):
MSFT: 85%
AAPL: 75%
AMZN: 70%
GOOGL: 60%</code></pre>
<p><strong>Important Considerations (If you could provide the actual files):</strong></p>
<ul>
<li><p><strong>Error Handling:</strong> You should add more robust error handling (e.g., using <code>try...except</code> blocks) to handle cases where files are missing, unreadable, or have unexpected content.</p></li>
<li><p><strong>File Path:</strong> Adjust the code to read from the correct file paths. If the files are in a subdirectory, make sure your file paths reflect that.</p></li>
<li><p><strong>Regex Robustness:</strong> If the format of the reports is not perfectly consistent, you might need to adjust the regular expression to be more flexible and handle slight variations. Consider using more descriptive regular expressions for better maintainability.</p></li>
<li><p><strong>Libraries:</strong> Consider libraries like <code>pandas</code> if you need to do more complex data analysis or manipulation.</p></li>
</ul>
<p>This detailed explanation and example should give you a clear understanding of how to approach this task when you have access to the files. Let me know if you have any other questions.</p>
</body>
</html>
